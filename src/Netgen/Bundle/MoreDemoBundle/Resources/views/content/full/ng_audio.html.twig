{% extends 'NetgenMoreBundle::pagelayout_resolver.html.twig' %}

{% if not ez_is_field_empty( content, 'line_intro' ) %}
    {% set meta_data = { 'description': ez_field_value( content, 'line_intro' ).xml.saveXML()|striptags|trim|truncate( 152 ) } %}
{% endif %}

{% block content %}
<div class="view-type view-type-{{ viewType }} ng-audio clearfix">

    <h1 class="att-name">{{ ez_render_field( content, 'name' ) }}</h1>

    {% if not ez_is_field_empty( content, 'line_intro' ) %}
        <div class="att-line-intro">
            {{ ez_render_field( content, 'line_intro' ) }}
        </div>
    {% endif %}

    {% if not ez_is_field_empty( content, 'file' ) %}
        <audio controls>
            <source type="audio/mpeg" src="{{ path( 'ngmore_download', { 'contentId': content.id, 'fieldId': content.getField( 'file' ).id } ) }}" />
            Your browser does not support the audio element.
        </audio>
    {% endif %}

    {% if not ez_is_field_empty( content, 'description' ) %}
        <div class="att-description">
            {{ ez_render_field( content, 'description' ) }}
        </div>
    {% endif %}

</div>
{% endblock %}
