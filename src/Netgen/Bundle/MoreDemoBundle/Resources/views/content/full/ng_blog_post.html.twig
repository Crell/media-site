{% extends 'NetgenMoreBundle::pagelayout_resolver.html.twig' %}

{% if not ez_is_field_empty( content, 'line_intro' ) %}
    {% set meta_data = { 'description': ez_field_value( content, 'line_intro' ).xml.saveXML()|striptags|trim|truncate( 152 ) } %}
{% elseif not ez_is_field_empty( content, 'full_intro' ) %}
    {% set meta_data = { 'description': ez_field_value( content, 'full_intro' ).xml.saveXML()|striptags|trim|truncate( 152 ) } %}
{% endif %}

{% block content %}
<div class="view-type view-type-{{ viewType }} ng-blog-post {% if not ez_is_field_empty( content, 'css_class' ) %}{{ ez_field_value( content, 'css_class' ).text }}{% endif %} clearfix">

    <h1 class="page-header">{{ ez_render_field( content, 'title' ) }}</h1>

    <div class="author">
        <p><small>
            {% if not ez_is_field_empty( content, 'author_override' ) %}
                {{ ez_render_field( content, 'author_override' ) }}
            {% else %}
                {{ ez_content_name( ngmore_owner( content ) ) }}
            {% endif %}
        on {{ ez_field_value( content, 'publish_date' ).value|date( 'F j, Y.' ) }}
        </small></p>
    </div>

    {% if not ez_is_field_empty( content, 'image' ) %}
        <div class="image">
            {{ ez_render_field(
                content,
                'image', {
                    'parameters': {
                        'alias': 'i1140'
                    }
                }
            ) }}
        </div>
    {% endif %}

    {% if not ez_is_field_empty( content, 'full_intro' ) %}
        <div class="intro">
            {{ ez_render_field( content, 'full_intro' ) }}
        </div>
    {% endif %}

    {% if not ez_is_field_empty( content, 'body' ) %}
        <div class="body">
            {{ ez_render_field( content, 'body' ) }}
        </div>
    {% endif %}

    {% if not ez_is_field_empty( content, 'location' ) %}
        <div class="location">
            {{ ez_render_field( content, 'location' ) }}
        </div>
    {% endif %}

</div>
{% endblock %}
