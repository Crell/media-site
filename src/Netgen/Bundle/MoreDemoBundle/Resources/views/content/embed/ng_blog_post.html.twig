{% set location_path = path( content ) %}

<div class="view-type view-type-{{ viewType }} ng-blog-post">
    <h3><a href="{{ location_path }}">{{ ez_render_field( content, 'title' ) }}</a></h3>

    <div class="date">
        {{ ez_field_value( content, 'publish_date' ).value|date( 'j. n. Y.' ) }}
    </div>

    <div class="author">
        {% if not ez_is_field_empty( content, 'author_override' ) %}
            {{ ez_render_field( content, 'author_override' ) }}
        {% else %}
            {{ ez_content_name( ngmore_owner( content ) ) }}
        {% endif %}
    </div>

    {% if not ez_is_field_empty( content, 'line_image' ) or not ez_is_field_empty( content, 'image' ) %}
        {% set image_field = not ez_is_field_empty( content, 'line_image' ) ? 'line_image' : 'image' %}

        <div class="image">
            {{ ez_render_field(
                content,
                image_field, {
                    'parameters': {
                        'alias': 'i320',
                        'link_href': location_path
                    }
                }
            ) }}
        </div>
    {% endif %}
</div>
