{% set location_path = path( location ) %}
{% set content_name = ez_field_value( content, 'name' ).text %}
{% set use_lazy_load = use_lazy_load|default( false ) %}

{% if not ez_is_field_empty( content, 'video_file' ) or not ez_is_field_empty( content, 'video_file_hd' ) or not ez_is_field_empty( content, 'video_identifier' ) %}
    <div class="content-view-block-item view-type-{{ viewType|default( '' ) }} ng-video vl2">
        {% if not ez_is_field_empty( content, 'poster' ) %}
            {% include 'NetgenMoreDemoBundle:parts:slide_image.html.twig' with {
                content_name: content_name,
                field_name: 'poster',
                alias_name: 'i320',
                use_lazy_load: use_lazy_load
            } %}
        {% elseif not ez_is_field_empty( content, 'video_identifier' ) %}
            {% set video_identifier = ez_field_value( content, 'video_identifier' ).text %}
            {% set video_type = ez_field_value( content, 'video_type' ) %}

            {% if 'youtube' in video_type.identifiers %}
                <img {% if use_lazy_load %}class="swiper-lazy" data-{% endif %}src="https://img.youtube.com/vi/{{ video_identifier }}/mqdefault.jpg" />
            {% elseif 'vimeo' in video_type.identifiers %}
                <div class="vimeo-poster" data-id="{{ video_identifier }}"></div>
            {% elseif 'dailymotion' in video_type.identifiers %}
                <img {% if use_lazy_load %}class="swiper-lazy" data-{% endif %}src="https://www.dailymotion.com/thumbnail/video/{{ video_identifier }}" />
            {% endif %}
        {% else %}
                <img src="{{ asset( 'bundles/netgenmoredemo/images/video_poster.png' ) }}" />
        {% endif %}

        <div class="info">
            <h2 class="title"><a href={{ location_path }}><i class="fa fa-play-circle"></i>{{ content_name }}</a></h2>
        </div>
    </div>
{% endif %}
