{% if not content.fields.image.empty %}
    <div class="view-type view-type-{{ viewType }} image">
        <div class="img-container">
            {{ ng_render_field(
                content.fields.image, {
                    'parameters': {
                        'alias': objectParameters.align|default('') is not empty ? 'i770' : 'i1200',
                        'link_href': link_href|default(''),
                        'link_class': objectParameters.link_class|default(''),
                        'link_id': objectParameters.link_id|default(''),
                        'link_title': objectParameters.link_title|default(''),
                        'link_target': objectParameters.link_target|default('')
                    }
                }
            ) }}
        </div>

        {% if not content.fields.caption.empty %}
            {% set image_alias = ng_image_alias(content.fields.image, objectParameters.size) %}
            {% if image_alias.width|default('') is not empty %}
                <div class="caption" style="width: {{ image_alias.width }}px">
                    {{ ng_render_field(content.fields.caption) }}
                </div>
            {% else %}
                <div class="caption">
                    {{ ng_render_field(content.fields.caption) }}
                </div>
            {% endif %}
        {% endif %}
    </div>
{% endif %}
