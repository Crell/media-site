{% spaceless %}

{# SITE NAME #}

{% set site_name = ezpublish.configResolver.getParameter( 'SiteSettings.SiteName' ) %}

{# PATH ARRAY #}

{% if path_array is not defined %}
    {% if content is defined and location is defined and location is not empty and not location.isDraft %}
        {% set path_array = ngmore_location_path( location.id ) %}
        {% if path_array is not empty %}
            {% set main_category_location_id = path_array[1] is defined ? path_array[1].locationId : path_array[0].locationId %}
        {% endif %}
    {% else %}
        {% set path_array = [] %}
        {% set main_category_location_id = 0 %}
    {% endif %}
{% endif %}

{# LAYOUT & CONTAINERS #}

{% set disable_layout_regions = disable_layout_regions|default( false ) %}
{% set disable_containers = disable_containers|default( false ) %}
{% set layout = ngmore.layout|default( false ) %}

{# LAYOUT REGIONS #}

{% set disable_top_region = ( disable_layout_regions or not layout or ez_field_value( layout, 'disable_top_region' ).bool )  %}
{% set disable_right_region = ( disable_layout_regions or not layout or ez_field_value( layout, 'disable_right_region' ).bool ) %}
{% set disable_left_region = ( disable_layout_regions or not layout or ez_field_value( layout, 'disable_left_region' ).bool )  %}
{% set disable_bottom_region = ( disable_layout_regions or not layout or ez_field_value( layout, 'disable_bottom_region' ).bool ) %}

{# PLACEHOLDERS #}

{% set _placeholder_top_top = block( 'placeholder_top_top' ) %}
{% set _placeholder_top_bottom = block( 'placeholder_top_bottom' ) %}
{% set _placeholder_left_top = block( 'placeholder_left_top' ) %}
{% set _placeholder_left_bottom = block( 'placeholder_left_bottom' ) %}
{% set _placeholder_right_top = block( 'placeholder_right_top' ) %}
{% set _placeholder_right_bottom = block( 'placeholder_right_bottom' ) %}
{% set _placeholder_bottom_top = block( 'placeholder_bottom_top' ) %}
{% set _placeholder_bottom_bottom = block( 'placeholder_bottom_bottom' ) %}

{% set left_column_available = ( _placeholder_left_top is not empty or _placeholder_left_bottom is not empty or not disable_left_region ) %}
{% set right_column_available = ( _placeholder_right_top is not empty or _placeholder_right_bottom is not empty or not disable_right_region ) %}

{# AVAILABLE TRANSLATIONS #}

{% if available_translations is not defined %}
    {% set available_translations = [] %}

    {% if status_code is not defined %}
        {% for language in ezpublish.availableLanguages %}
            {% set translation_site_access = ezpublish.translationSiteAccess( language ) %}

            {% if translation_site_access is not empty %}
                {% set url = url( ez_route( params={ 'siteaccess': translation_site_access } ), { 'language': language } ) %}
                {% set available_translations = available_translations|merge( { ( language ): url } ) %}
            {% endif %}
        {% endfor %}
    {% endif %}
{% endif %}

{% endspaceless %}{% block pagelayout_content %}{% endblock %}
