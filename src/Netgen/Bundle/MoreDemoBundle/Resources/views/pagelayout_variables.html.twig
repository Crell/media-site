{% spaceless %}

{# SITE NAME #}

{% set site_name = ezpublish.configResolver.getParameter( 'site_settings.site_name', 'ngmore' ) %}

{# PATH ARRAY #}

{% if show_path is not defined %}
    {% set show_path = true %}
{% endif %}

{% if path_array is not defined %}
    {% if content is defined and location is defined and location is not empty and not location.innerLocation.isDraft %}
        {% set path_array = ngmore_location_path( location.id ) %}
        {% if path_array is not empty %}
            {% set main_category_location_id = path_array[1] is defined ? path_array[1].location.id : path_array[0].location.id %}
        {% endif %}
    {% else %}
        {% set path_array = [] %}
        {% set main_category_location_id = 0 %}
    {% endif %}
{% endif %}

{# AVAILABLE TRANSLATIONS #}

{% if available_translations is not defined %}
    {% set available_translations = [] %}

    {% if status_code is not defined %}
        {% for language in ezpublish.availableLanguages %}
            {% set translation_site_access = ezpublish.translationSiteAccess( language ) %}

            {% if translation_site_access is not empty %}
                {% if content is not defined %}
                    {% set url = url( ez_route( params={ 'siteaccess': translation_site_access } ) ) %}
                    {% set available_translations = available_translations|merge( { ( language ): url } ) %}
                {% elseif language in content.versionInfo.languageCodes or content.contentInfo.alwaysAvailable %}
                    {% set url = url( ez_route( params={ 'siteaccess': translation_site_access } ), { 'language': language } ) %}
                    {% set available_translations = available_translations|merge( { ( language ): url } ) %}
                {% endif %}
            {% endif %}
        {% endfor %}
    {% endif %}
{% endif %}

{% endspaceless %}{% block pagelayout_content %}{% endblock %}
