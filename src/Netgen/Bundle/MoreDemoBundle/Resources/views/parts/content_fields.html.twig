{% macro image( content, location, alias_name ) %}
    {% set alias_name = alias_name|default( 'i480' ) %}

    {% set image_field = false %}
    {% if content.hasField('line_image') and not content.fields.line_image.empty %}
        {% set image_field = content.fields.line_image %}
    {% elseif content.hasField('image') and not content.fields.image.empty %}
        {% set image_field = content.fields.image %}
    {% endif %}

    {% if image_field %}
        <div class="image">
            {{ ng_render_field(
                image_field, {
                    'parameters': {
                        'alias': alias_name,
                        'image_class': 'img-responsive',
                        'link_href': path( location is not empty ? location : content )
                    }
                }
            ) }}
        </div>
    {% endif %}
{% endmacro %}

{% macro name( content ) %}
{% spaceless %}
    {% if content.hasField('title') and not content.fields.title.empty %}
        {{ content.fields.title.value.text }}
    {% elseif content.hasField('name') and not content.fields.name.empty %}
        {{ content.fields.title.name.text }}
    {% else %}
        {{ content.name }}
    {% endif %}
{% endspaceless %}
{% endmacro %}

{% macro intro( content ) %}
    {% if content.hasField('line_intro') and not content.fields.line_intro.empty %}
        <div class="short">
            {{ ng_render_field( content.fields.line_intro ) }}
        </div>
    {% elseif content.hasField('full_intro') and not content.fields.full_intro.empty %}
        <div class="short">
            {{ ng_render_field( content.fields.full_intro ) }}
        </div>
    {% endif %}
{% endmacro %}
